<!DOCTYPE html>
<html>

<head>
    <title class="js-title">App</title>
</head>

<body>
    <button class="js-button">Start</button>
    <button onclick="addText();">Add to Cart</button>
    <p></p>
    <button class="js-add-button">Add</button>
    <button class="js-remove-button">Remove</button>
    <p class="js-added-text"></p>
    <script>
        document.querySelector('.js-add-button').addEventListener('click', () => adjustMessageNumber(+1));
        document.querySelector('.js-remove-button').addEventListener('click', () => adjustMessageNumber(-1));
        document.querySelector('.js-button').addEventListener('click', () => run());

        let add = () => console.log(2 + 3);
        add();


        function runTwice(fun) {
            fun();
            fun();
        }
        runTwice(() => console.log('yoooooo'));
        function run() {
            setTimeout(() => {
                document.querySelector('.js-button').innerHTML = 'Finished!';
            }, 1000);
            document.querySelector('.js-button').innerHTML = 'Loading...';
        }
        let timeoutID;
        function addText() {
            document.querySelector('.js-added-text').innerHTML = 'Added!';
            clearTimeout(timeoutID);
            timeoutID = setTimeout(() => {
                document.querySelector('.js-added-text').innerHTML = '';
            }, 2000);
        }
        /*
        let maxMessage = 0;
        function message() {
            setInterval(() => {
                document.title = '(2) New Messages';
            }, 1000);
        }
        message();
        */
        let messageCount = 0;
        let intervalID;
        function adjustMessageNumber(value) {
            messageCount += value;
            if (messageCount <= 0) {
                clearInterval(intervalID);
                document.title === 'App';
                messageCount = 0;
                return;
            }

            intervalID = setInterval(() => {
                if (document.title === 'App') {
                    document.title = `(${messageCount}) New Messages`;
                } else {
                    document.title = `App`;
                }
            }, 1000);
        }
    </script>
</body>

</html>