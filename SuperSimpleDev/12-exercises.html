<!DOCTYPE html>
<html>

<head>
    <title class="js-title">App</title>
</head>

<body>
    <button class="js-button" onclick="run();">Start</button>
    <button onclick="addText();">Add to Cart</button>
    <p></p>
    <button onclick="adjustMessageNumber(+1);">Add</button>
    <button onclick="adjustMessageNumber(-1);">Remove</button>
    <p class="js-added-text"></p>
    <script>
        let add = function () {
            console.log(2 + 3);
        }
        add();
        function runTwice(fun) {
            fun();
            fun();
        }
        runTwice(function () {
            console.log('yoooooo');
        });
        function run() {
            setTimeout(function () {
                document.querySelector('.js-button').innerHTML = 'Finished!';
            }, 1000);
            document.querySelector('.js-button').innerHTML = 'Loading...';
        }
        let timeoutID;
        function addText() {
            document.querySelector('.js-added-text').innerHTML = 'Added!';
            clearTimeout(timeoutID);
            timeoutID = setTimeout(function () {
                document.querySelector('.js-added-text').innerHTML = '';
            }, 2000);
        }
        /*
        let maxMessage = 0;
        function message() {
            setInterval(function () {
                document.title = '(2) New Messages';
            }, 1000);
        }
        message();
        */
        let messageCount = 0;
        let intervalID;
        function adjustMessageNumber(value) {
            messageCount += value;
            if (messageCount <= 0) {
                clearInterval(intervalID);
                document.title === 'App';
                messageCount = 0;
                return;
            }

            intervalID = setInterval(function () {
                if (document.title === 'App') {
                    document.title = `(${messageCount}) New Messages`;
                } else {
                    document.title = `App`;
                }
            }, 1000);
        }
    </script>
</body>

</html>